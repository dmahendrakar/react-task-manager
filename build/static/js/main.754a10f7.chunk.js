(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{259:function(e,t,n){e.exports=n(454)},264:function(e,t,n){},270:function(e,t,n){},271:function(e,t,n){},272:function(e,t,n){},273:function(e,t,n){},454:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(65),s=n.n(c),o=(n(264),n(46)),u=n(47),i=n(50),l=n(48),p=n(51),E=(n(265),n(35)),f=n(248),d=n(115),m=(n(270),n(468)),k=n(60),b=(n(271),function(e){return e.children}),T="FETCH_TASKS",S="CREATE_TASK",h="DELETE_TASKS",O="UPDATE_TASK",v="BULK_UPDATE_TASKS",C=function(){return{type:"FETCH_TASKS_START"}},j=function(){return{type:"FETCH_TASKS_SUCCEEDED"}},A=function(e){return{type:"FETCH_TASKS_FAILED",error:e}},_=function(){return{type:"UPDATE_TASK_START"}},x=function(){return{type:"UPDATE_TASK_SUCCEEDED"}},y=function(e){return{type:"UPDATE_TASK_FAILED",error:e}},D=function(){return{type:"BULK_UPDATE_TASKS_START"}},g=function(){return{type:"BULK_UPDATE_TASKS_SUCCEEDED"}},w=function(e){return{type:"BULK_UPDATE_TASKS_FAILED",error:e}},K=function(){return{type:"CREATE_TASK_START"}},N=function(){return{type:"CREATE_TASK_SUCCEEDED"}},U=function(e){return{type:"CREATE_TASK_FAILED",error:e}},I=function(){return{type:"DELETE_TASKS_START"}},L=function(){return{type:"DELETE_TASKS_SUCCEEDED"}},M=function(e){return{type:"DELETE_TASKS_FAILED",error:e}},R=function(e){return{type:"INIT_TASKS",tasks:e}},P=function(e){return{type:"SET_TASK",task:e}},F=function(e){return{type:"SET_TASKS",tasks:e}},B=function(e){return{type:"REMOVE_TASKS",tasks:e}},H=n(84),J=n(467),z=n(462),W=n(463),G=n(455),V=(n(272),n(66)),Y=n(466),X=n(470),q=n(465),Q=n(464),Z=n(85),$=(n(273),n(223)),ee=n(150),te=n.n(ee),ne=function(e,t){return Object($.a)({},e,t)},ae=function(e){return te()(e).tz(te.a.tz.guess()).format("MMMM Do YYYY, h:mm:ss A")},re=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).handleChange=function(e,t){var a=t.name,r=t.value;return n.setState(Object(V.a)({},a,r))},n.componentDidUpdate=function(e,t){JSON.stringify(n.state)===JSON.stringify(t)&&n.props.task&&n.setState(n.props.task||{})},n.state={},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return JSON.stringify(this.props)!==JSON.stringify(e)||JSON.stringify(this.state)!==JSON.stringify(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.open,a=t.onClose,c=t.onSubmit,s=t.task,o=this.state,u=o.title,i=o.description,l=o.creationTime,p=o.lastModifiedTime,E=o.status;return r.a.createElement(b,null,r.a.createElement(Y.a,{open:n,closeIcon:!0,onClose:function(){e.setState({},function(){a()})}},r.a.createElement(X.a,{icon:"edit",content:"Task Editor"}),r.a.createElement(Y.a.Content,null,r.a.createElement(q.a,{onSubmit:function(t){t.preventDefault();var n=Object.assign({},e.state);e.setState({},function(){c(ne(n,{creationTime:n.creationTime||Date.now(),lastModifiedTime:Date.now(),status:n.status||"PENDING"}))})}},r.a.createElement(q.a.Field,{name:"title",value:u,control:W.a,label:"Title",placeholder:"Task title",onChange:this.handleChange}),r.a.createElement(q.a.Field,{name:"description",value:i,control:Q.a,label:"Description",placeholder:"Task description...",onChange:this.handleChange}),r.a.createElement(q.a.Checkbox,{style:{display:s?"block":"none"},name:"status",checked:"COMPLETED"===E,className:"EditorStatusCheckbox",label:"The task completed",toggle:!0,onChange:function(t){return e.handleChange(t,{name:"status",value:"PENDING"===E?"COMPLETED":"PENDING"})}}),r.a.createElement(Z.a,{style:{display:s?"inline":"none"}},r.a.createElement(k.a,{name:"calendar"})," Created on: ",ae(l)),r.a.createElement(Z.a,{style:{display:s?"inline":"none"}},r.a.createElement(k.a,{name:"calendar"})," Modified on: ",ae(p)),r.a.createElement(q.a.Button,{className:"EditorSubmitButton",color:"green",size:"small"},r.a.createElement(k.a,{name:"save outline"})," Save")))))}}]),t}(a.Component),ce=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={openEditor:!1,openCreator:!1,clickedTask:{},checkedTasks:[],checkedTasksIndex:[]},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.tasks,a=t.onCreate,c=t.onUpdate,s=t.onBulkUpdate,o=t.onDelete,u=this.state,i=u.openEditor,l=u.openCreator,p=u.clickedTask,E=u.checkedTasks,f=u.checkedTasksIndex,d=n.map(function(t,n){var a=function(n){return r.a.createElement(J.a.Cell,{onClick:function(){e.setState({openEditor:!0,clickedTask:t})}},n.value)};return r.a.createElement(J.a.Row,{className:"TableRow",key:t.id},r.a.createElement(J.a.Cell,{collapsing:!0},r.a.createElement(z.a,{slider:!0,checked:f.includes(n),onClick:function(){var a=f;a.includes(n)?a.splice(a.indexOf(n),1):a.push(n),e.setState(ne(e.state,{checkedTasks:[].concat(Object(H.a)(E),[t]),checkedTasksIndex:a}))}})),r.a.createElement(a,{value:t.title}),r.a.createElement(a,{value:ae(t.creationTime)}),r.a.createElement(a,{value:t.status||"PENDING"}))});return r.a.createElement("div",{className:"TaskListView"},r.a.createElement("div",{className:"TaskListOperations"},r.a.createElement(W.a,{floated:"left",icon:"search",placeholder:"Search by title..."}),r.a.createElement(G.a,{floated:"right",icon:!0,labelPosition:"left",color:"teal",size:"small",onClick:function(){e.setState({openCreator:!0})}},r.a.createElement(k.a,{name:"plus"})," Add")),r.a.createElement(J.a,{compact:!0,celled:!0,definition:!0,className:"TaskListTable"},r.a.createElement(J.a.Header,null,r.a.createElement(J.a.Row,null,r.a.createElement(J.a.HeaderCell,null),r.a.createElement(J.a.HeaderCell,null,"Title"),r.a.createElement(J.a.HeaderCell,null,"Created Date"),r.a.createElement(J.a.HeaderCell,null,"Status"))),r.a.createElement(J.a.Body,null,d),r.a.createElement(J.a.Footer,{fullWidth:!0},r.a.createElement(J.a.Row,null,r.a.createElement(J.a.HeaderCell,null),r.a.createElement(J.a.HeaderCell,{colSpan:"4"},r.a.createElement(G.a,{floated:"right",size:"small",color:"teal",onClick:function(){e.setState({checkedTasks:[],checkedTasksIndex:[]},function(){o(E)})}},r.a.createElement(k.a,{name:"minus"})," Remove"),r.a.createElement(G.a,{floated:"right",size:"small",color:"teal",onClick:function(){e.setState({checkedTasks:[],checkedTasksIndex:[]},function(){s(E.map(function(e){return e.status="COMPLETED",e}))})}},r.a.createElement(k.a,{name:"check"})," Completed"))))),r.a.createElement(re,{open:l,onClose:function(){e.setState({openCreator:!1})},onSubmit:function(t){e.setState({openCreator:!1}),a(t)}}),r.a.createElement(re,{open:i,task:p,onClose:function(){e.setState({openEditor:!1})},onSubmit:function(t){e.setState({openEditor:!1}),c(t)}}))}}]),t}(a.Component),se=n(244),oe=n(70),ue=Object(se.a)(function(e){return e.tasks.tasks},function(e){return Object(oe.sortBy)(Object.values(e),"creationTime")}),ie=Object(d.b)(function(e){return{tasks:ue(e)}},function(e){return{onCreate:function(t){return e({type:S,task:t})},onUpdate:function(t){return e(function(e){return{type:O,task:e}}(t))},onBulkUpdate:function(t){return e(function(e){return{type:v,tasks:e}}(t))},onDelete:function(t){return e(function(e){return{type:h,tasks:e}}(t))}}})(ce),le=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(b,null,r.a.createElement(m.a,{className:"AppMenu"},r.a.createElement("div",{className:"AppName"},r.a.createElement(k.a,{name:"tasks"}),r.a.createElement("span",null,"Task Manager"))),r.a.createElement(ie,null))}}]),t}(a.Component),pe=n(25),Ee=n.n(pe),fe=n(19),de=n(246),me=n.n(de).a.create();me.defaults.baseURL="https://sy72l3aebf.execute-api.us-west-2.amazonaws.com/v1";var ke=me,be=Ee.a.mark(ve),Te=Ee.a.mark(Ce),Se=Ee.a.mark(je),he=Ee.a.mark(Ae),Oe=Ee.a.mark(_e);function ve(e){var t;return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(fe.b)(C());case 3:return e.next=5,ke.get("/");case 5:return t=e.sent,e.next=8,Object(fe.b)(R(t.data));case 8:return e.next=10,Object(fe.b)(j());case 10:e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(0),console.error("[TaskManagerWidget] error",e.t0),e.next=17,Object(fe.b)(A(e.t0));case 17:case"end":return e.stop()}},be,null,[[0,12]])}function Ce(e){var t,n,a;return Ee.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(fe.b)(K());case 3:return t=e.task,r.next=6,ke.post("/",t);case 6:return n=r.sent,a=n.data.id,r.next=10,Object(fe.b)(P(ne(t,{id:a})));case 10:return r.next=12,Object(fe.b)(N());case 12:r.next=19;break;case 14:return r.prev=14,r.t0=r.catch(0),console.error("[TaskManagerWidget] error",r.t0),r.next=19,Object(fe.b)(U(r.t0));case 19:case"end":return r.stop()}},Te,null,[[0,14]])}function je(e){var t;return Ee.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(fe.b)(_());case 3:return t=e.task,n.next=6,ke.put("/",t);case 6:return n.next=8,Object(fe.b)(P(t));case 8:return n.next=10,Object(fe.b)(x());case 10:n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(0),console.error("[TaskManagerWidget] error",n.t0),n.next=17,Object(fe.b)(y(n.t0));case 17:case"end":return n.stop()}},Se,null,[[0,12]])}function Ae(e){var t;return Ee.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(fe.b)(D());case 3:return t=e.tasks,n.next=6,ke.put("/bulk",t);case 6:return n.next=8,Object(fe.b)(F(t));case 8:return n.next=10,Object(fe.b)(g());case 10:n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(0),console.error("[TaskManagerWidget] error",n.t0),n.next=17,Object(fe.b)(w(n.t0));case 17:case"end":return n.stop()}},he,null,[[0,12]])}function _e(e){var t;return Ee.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(fe.b)(I());case 3:return t=e.tasks,n.next=6,ke.delete("/bulk",{data:Object(oe.pluck)(t,"id").map(function(e){return{id:e}})});case 6:return n.next=8,Object(fe.b)(B(t));case 8:return n.next=10,Object(fe.b)(L());case 10:n.next=17;break;case 12:return n.prev=12,n.t0=n.catch(0),console.error("[TaskManagerWidget] error",n.t0),n.next=17,Object(fe.b)(M(n.t0));case 17:case"end":return n.stop()}},Oe,null,[[0,12]])}var xe=Ee.a.mark(De),ye=Ee.a.mark(ge);function De(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.c)(T,ve);case 2:return e.next=4,Object(fe.c)(S,Ce);case 4:return e.next=6,Object(fe.c)(O,je);case 6:return e.next=8,Object(fe.c)(v,Ae);case 8:return e.next=10,Object(fe.c)(h,_e);case 10:case"end":return e.stop()}},xe)}function ge(){return Ee.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(fe.a)([De()]);case 2:case"end":return e.stop()}},ye)}var we={tasks:{},isSet:!1},Ke=function(e){var t={};return e.forEach(function(e){t[e.id]=e}),t},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_TASKS":return ne(e,{tasks:Ke(t.tasks),isSet:!0});case"SET_TASK":var n=t.task;return ne(e,{tasks:ne(e.tasks,Object(V.a)({},n.id,n))});case"SET_TASKS":var a=t.tasks,r=Object.assign({},e.tasks);return a.forEach(function(e){return r[e.id]=e}),ne(e,{tasks:ne(e.tasks,r)});case"REMOVE_TASKS":var c=t.tasks;return ne(e,{tasks:Object(oe.difference)(e.tasks,c)});default:return e}},Ue=Object(E.c)({tasks:Ne}),Ie=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).initStore=function(){var e=n.props.store;if(n.store=e,!e){var t=Object(f.a)(),a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||E.d;n.store=Object(E.e)(Ue,a(Object(E.a)(t))),t.run(ge)}},n.initStore(),n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.store.dispatch({type:T})}},{key:"render",value:function(){return r.a.createElement(d.a,{store:this.store},r.a.createElement(le,null))}}]),t}(a.Component);s.a.render(r.a.createElement(Ie,null),document.getElementById("root"))}},[[259,1,2]]]);
//# sourceMappingURL=main.754a10f7.chunk.js.map